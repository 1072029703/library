(function(d){beangle.history||jQuery.struts2_jquery.require("/struts/js/plugins/jquery.form"+jQuery.struts2_jquery.minSuffix+".js",function(){d.beangle.history={init:function(){document.location.protocol==="file:"&&alert("The HTML5 History API (and thus History.js) do not work on files, please upload it to a server.");var a=d.History;jQuery(document).ready(function(){a.Adapter.bind(d,"statechange",function(){var c=a.getState();if(jQuery.type((c.data||{}).target)!="undefined"&&jQuery.type((c.data||
{}).html)!="undefined")jQuery(c.data.target).empty(),jQuery(c.data.target).html(c.data.html)})})},back:function(a){return History.back(a)},forward:function(a){return History.forward(a)},historyGo:function(a,c){var b=a.indexOf(" ");if(b>=0)var f=a.slice(b,a.length),a=a.slice(0,b);jQuery.ajax({url:a,type:"GET",dataType:"html",complete:function(b,d,e){e=b.responseText;b.isResolved()&&(b.done(function(a){e=a}),b=f?jQuery("<div>").append(e.replace(rscript,"")).find(f):e,History.pushState({html:b,target:"#"+
c},"",a))}})},historySubmit:function(a,c,b){jQuery.type(a)=="string"&&a.indexOf("#")!=0&&(a="#"+a);jQuery.type(b)=="string"&&b.indexOf("#")!=0&&(b="#"+b);jQuery(a).ajaxForm(function(a,d,g){d==="success"&&g.status==200&&g.readyState==4&&History.pushState({html:a,target:b},"",c);return!1})}}},bg.getContextPath())})(window);
