<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">
	
	<bean name="login" scope="prototype" class="org.beangle.webapp.portal.action.LoginAction" autowire="byName">
		<property name="captchaService" ref="captchaService"/>
		<property name="authenticationManager" ref="authenticationManager"/>
		<property name="sessionStrategy" ref="sessionStrategy"/>
		<property name="authenticationDetailsSource" ref="authenticationDetailsSource"/>
	</bean>
	
	<bean name="logout" scope="prototype" class="org.beangle.webapp.portal.action.LogoutAction">
		<property name="handlerStack" ref="logoutHandlerStack"/>
	</bean>
	
	<bean name="home" scope="prototype"
	 class="org.beangle.webapp.portal.action.HomeAction" autowire="byName"></bean>
	
	<!--验证码-->
	<bean name="captcha/image" scope="prototype"
	 class="org.beangle.webapp.captcha.action.ImageAction">
		<property name="captchaService" ref="captchaService"/>
	</bean>
	
	<!--系统管理-->
	<bean name="system/file" scope="prototype"
	 class="org.beangle.webapp.system.action.FileAction"
	 autowire="byName"></bean>
	
	<bean name="system/index" scope="prototype"
	 class="org.beangle.webapp.system.action.IndexAction"
	 autowire="byName"></bean>
	
	<bean name="system/status" scope="prototype"
	 class="org.beangle.webapp.system.action.StatusAction"
	 autowire="byName"></bean>
	
	<bean name="system/property" scope="prototype" autowire="byName" class="org.beangle.webapp.system.action.PropertyAction">
		<property name="configFactory" ref="&amp;propertyConfig" />
	</bean>
	
	<bean name="staticfile.download" scope="prototype"
	 class="org.beangle.webapp.staticfile.action.DownloadAction"
	 autowire="byName">
		<property name="loaders">
			<list>
				<ref bean="classpathDocLoader"></ref>
			</list>
		</property>
	</bean>
	<!--avatar-->
	<bean name="avatar.my" autowire="byName" scope="prototype"
	 class="org.beangle.webapp.avatar.action.MyAction">
		<property name="avatarBase" ref="defaultAvatarBase"/>
	</bean>
	
	<bean name="avatar.my-upload" autowire="byName" scope="prototype"
	 class="org.beangle.webapp.avatar.action.MyUploadAction">
		<property name="avatarBase" ref="defaultAvatarBase"/>
	</bean>
	
	<bean name="avatar.user" autowire="byName" scope="prototype"
	 class="org.beangle.webapp.avatar.action.UserAction">
		<property name="avatarBase" ref="defaultAvatarBase"/>
	</bean>
	
	<bean name="avatar.board" autowire="byName" scope="prototype"
	 class="org.beangle.webapp.avatar.action.BoardAction">
		<property name="avatarBase" ref="defaultAvatarBase"/>
	</bean>
	
	<!--权限部分-->
	<bean name="security/user" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.UserAction">
		<property name="userService" ref="userService"/>
		<property name="entityName" value="org.beangle.security.blueprint.User"/>
	</bean>
	
	<bean name="security/password" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.PasswordAction">
		<property name="userService" ref="userService"/>
		<property name="entityName" value="org.beangle.security.blueprint.User"/>
	</bean>
	
	<bean name="security/group" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.GroupAction">
		<property name="userService" ref="userService"/>
		<property name="authorityService" ref="authorityService"/>
		<property name="entityName" value="org.beangle.security.blueprint.Group"/>
	</bean>
	
	<bean name="security/menu" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.MenuAction">
		<property name="entityName" value="org.beangle.security.blueprint.Menu"/>
	</bean>
	
	<bean name="security/menuProfile" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.MenuProfileAction">
		<property name="entityName" value="org.beangle.security.blueprint.MenuProfile"/>
	</bean>
	
	<bean name="security/resource" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.ResourceAction">
		<property name="entityName" value="org.beangle.security.blueprint.Resource"/>
	</bean>
	
	<bean name="security/restriction" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.RestrictionAction">
		<property name="entityName" value="org.beangle.security.blueprint.Restriction"/>
	</bean>
	
	<bean name="security/restrict-meta" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.RestrictMetaAction"></bean>
	
	<bean name="security/authority" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.AuthorityAction">
		<property name="authorityService" ref="authorityService"/>
		<property name="authorityManager" ref="authorityManager"/>
	</bean>
	
	<bean name="security/activity" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.ActivityAction"></bean>
	
	<bean name="security/monitor" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.MonitorAction"></bean>
	
	<bean name="security/index" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.IndexAction"></bean>
	
	<bean name="security/my" scope="prototype" autowire="byName"
	 class="org.beangle.webapp.security.action.MyAction"></bean>
	
	<bean name="userDashboardHelper" autowire="byName"
	 class="org.beangle.webapp.security.helper.UserDashboardHelper"></bean>
	
</beans>
